<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Notification Center</title>
  <!-- Link to Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/notif/static/css/notification_center.css" rel="stylesheet">

</head>
<body class="d-flex flex-column min-vh-100">
  <!-- Header -->
  <header class="bg-primary text-white text-center mb-4">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Library Management System</a>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item px-2">
              <a class="nav-link" href="/notif/admin_dashboard">My Dashboard</a>
            </li>
            <li class="nav-item px-2">
              <a class="nav-link" href="/notif/manager-login" style="background-color: #E3E3E3; border-radius: 15px">Log Out</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <!-- Main Content -->
  <main class="container my-auto d-flex justify-content-center">
    <div class="container-fluid">
      <h3 class="my-3 px-3">Notification Center üìß</h3>
        <div class="card col-12 my-4">
          <div class="card-body">
            <h4>üìç Due Today</h4>
            <p>Send notifications for the checkouts due today.</p>
            <div class="accordion" id="due-accordion">
              <div class="accordion-item">
                  <h5 class="accordion-header">
                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                      View Details...
                      </button>
                  </h5>
                  <div id="collapseOne" class="accordion-collapse collapse">
                      <div class="accordion-body">
                        <table class="table table-bordered">
                          <thead>
                              <tr><th colspan="7" id="date"></th></tr>
                              <tr>
                              <th class="col-1"></th>
                              <th class="col-4">Title</th>       
                              <th class="col-2">ISBN</th>
                              <th class="col-2">Reservation ID</th>
                              <th class="col-3">User Email</th>
                              </tr>
                          </thead>
                          <tbody id="returns-today-table">
                              <!-- Rows will be added dynamically here -->
                          </tbody>
                          </table> 
                          <button type="submit" class="btn btn-custom-size mx-1 my-3 px-3" onclick="notify('selectTodayRow')">Notify üîî</button>
                      </div>
                  </div>
              </div>
            </div>
          </div>      
        </div>
        <div class="card col-12 my-4">
          <div class="card-body">
            <h4>üìÖ Upcoming Returns</h4>
            <p>Send reminders for upcoming returns within 3 days.</p>
            <div class="accordion" id="upcoming-accordion">
              <div class="accordion-item">
                  <h5 class="accordion-header">
                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                      View Details...
                      </button>
                  </h5>
                  <div id="collapseTwo" class="accordion-collapse collapse">
                      <div class="accordion-body">
                        <table class="table table-bordered">
                          <thead>
                              <tr>
                                <th class="col-1"></th>
                                <th class="col-3">Title</th>       
                                <th class="col-2">ISBN</th>
                                <th class="col-1">Hold ID</th>
                                <th class="col-2">Due Date</th>
                                <th class="col-3">User Email</th>
                              </tr>
                          </thead>
                          <tbody id="upcoming-returns-table">
                              <!-- Rows will be added dynamically here -->
                          </tbody>
                          </table>
                          <button type="submit" class="btn btn-custom-size mx-1 my-3 px-3" onclick="notify('selectUpcomingRow')">Notify üîî</button>
                      </div>
                  </div>
              </div>
            </div>
          </div>      
        </div>
        <div class="card col-12 my-4">
          <div class="card-body">
            <h4>‚úÖ Available Now</h4>
            <p>Recently available books for check out.</p>
            <div class="accordion" id="available-accordion">
              <div class="accordion-item">
                  <h5 class="accordion-header">
                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                      View Details...
                      </button>
                  </h5>
                  <div id="collapseThree" class="accordion-collapse collapse">
                      <div class="accordion-body">
                        <table class="table table-bordered">
                          <thead>
                              <tr>
                              <th class="col-1"></th>
                              <th class="col-4">Title</th>
                              <th class="col-2">ISBN</th>
                              <th class="col-1">Rating</th>
                              <th class="col-4">Next in queue</th>
                              </tr>
                          </thead>
                          <tbody id="available-today-table">
                              <!-- Rows will be added dynamically here -->
                          </tbody>
                          </table>
                          <button type="submit" class="btn btn-custom-size mx-1 my-3 px-3" onclick="notify('selectAvailRow')">Notify üîî</button>
                      </div>
                  </div>
              </div>
            </div>
          </div>      
        </div> 
        <button type="button" class="btn btn-custom-size mx-1 mt-1 mb-3 px-4 py-2" onclick="goToDashboard()">üîô Dashboard</button>      
      </div>
    </div>    
  </main>

  <!-- Footer -->
  <footer class="text-white text-center p-1 mt-auto" style="background-color: #162D3A; color: white;">
    <p>2025 Capstone Project</p>
  </footer>

  <!-- Include Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/notif/static/js/notification_center.js"></script>
 
</body>
</html>